@import ../../vendor/lib

.Comments
  position: relative

.Comments > .SVGIcon
  position: absolute
  top: rem(22)
  left: 0

.CommentHeader
  +sans-typeset
  position: relative
  height: rem(30)
  color: #aaa
  background-color: white

.CommentHeader .Avatar
  position: absolute
  top: 0
  left: 0

.CommentHeaderAuthor
  position: relative
  display: inline-block
  vertical-align: middle
  max-width: calc(100% - #{rem(50)})
  padding-left: rem(40)
  line-height: rem(30)

.CommentHeaderLink
  vertical-align: middle
  max-width: 100%
  overflow: hidden
  text-overflow: ellipsis
  white-space: nowrap

.no-touch .CommentHeaderLink:hover
  color: #535353

.CommentBody
  padding-left: rem(40)

.CommentsLink
  +sans-typeset
  margin-left: rem(60)
  color: #aaa
  border-bottom: 1px solid #aaa
  line-height: rem(10)

// TODO: Need to really separate CommentTools from PostTools.
.CommentTools
  padding-left: rem(40)

.Comments .TimeAgoTool,
.CommentTools .TimeAgoTool
  color: #aaa

// Override the hiding of this thing from bad the PostTools
.Posts .CommentTools .TimeAgoTool
  display: inline-block

.CommentTools .ReplyTool
  margin-left: rem(10)

.CommentTools .ReplyTool .SVGIcon
  margin-top: rem(-2)


.CommentTools .MoreTool
  transition: transform $speed $ease
  position: absolute
  right: 0
  z-index: 4

.CommentTools .MoreTool > button
  padding-right: 0

// MAX WIDTH!
@media(max-width: #{$break-2-max})
  .CommentTools.isMoreToolActive > .PostTool
    transform: translate3d(#{rem(-80)}, 0, 0)

  .CommentTools:not(.isMoreToolActive) > .ShyTool
    display: none

  .CommentTools .ShyTool
    position: absolute
    right: rem(-50)
    z-index: 3

  .CommentTools .ShyTool + .ShyTool
    right: rem(-90)

  // This is kind of weird
  .CommentTools.isMoreToolActive .ShyTool.asSolo + .MoreTool
    transform: translate3d(#{rem(-40)}, 0, 0)

  // also weird
  .CommentTools .ShyTool.asSolo
    right: rem(-90)

  .CommentTools.isMoreToolActive .ShyTool
    pointer-events: auto
    opacity: 1

  .CommentTools .MoreTool .SVGIcon
    transform: rotate(180deg)

  .CommentTools.isMoreToolActive .MoreTool .SVGIcon
    transform: none
    color: black


// MIN WIDTH!
@media(min-width: #{$break-2})
  .CommentHeader
    height: rem(25)
  .CommentHeaderAuthor
    padding-left: rem(60)
    line-height: rem(20)
  .CommentBody
    padding-left: rem(60)
  .CommentTools
    padding-left: rem(60)
  .CommentTools .MoreTool
    display: none
  .CommentTools .EditTool
    margin-left: rem(15)
  .no-touch .CommentTools .ShyTool
    display: inline-block !important
    pointer-events: none
    opacity: 0
  .no-touch .CommentTools:hover .ShyTool
    pointer-events: auto
    opacity: 1

