@import ../../vendor/lib

.Avatar
  transition: transform $speed $ease
  position: relative
  display: inline-block
  vertical-align: middle
  overflow: hidden
  width: rem(30)
  height: rem(30)
  background: #f0f0f0 no-repeat 50% 50%
  background-size: cover
  border-radius: 50%
  color: transparent
.Avatar.isXLarge
  width: rem(220)
  height: rem(220)
.Avatar.isLarge
  width: rem(120)
  height: rem(120)
.Avatar.isTiny
  width: rem(30)
  height: rem(30)

.Avatar.isRequesting
  animation: animateLavaLamp 3s infinite linear

.Avatar.isPending
  background-color: #f0f0f0

.Avatar.isFailing
  background-color: $danger

.AvatarImage
  transition: opacity $speed2
  position: absolute
  top: 0
  bottom: 0
  left: 0
  right: 0
  width: 100%
  height: 100%
  border-radius: 50%
  object-fit: cover
.AvatarImage[src='']
  display: none

.isPending > .AvatarImage,
.isRequesting > .AvatarImage
  opacity: 0

.isUserDetailHeader .isPending > .AvatarImage,
.isUserDetailHeader .isRequesting > .AvatarImage,
.PostHeader .isPending > .AvatarImage,
.PostHeader .isRequesting > .AvatarImage
  opacity: 1

.Avatar:before
  content: ''
  transition: background-color $speed ease
  position: absolute
  top: 0
  bottom: 0
  left: 0
  right: 0
  z-index: 2
  background-color: transparent

.no-touch a.Avatar:hover:before,
.no-touch a:hover > .Avatar:before,
.no-touch button.Avatar:hover:before,
.no-touch button:hover > .Avatar:before
  background-color: rgba(white, 0.4)


@media(min-width: #{$break-2})
  .Avatar
    width: rem(40)
    height: rem(40)
  .Avatar.isLarge
    width: rem(180)
    height: rem(180)

